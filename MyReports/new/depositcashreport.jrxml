<?xml version="1.0" encoding="UTF-8"?>
<!-- Created with Jaspersoft Studio version 6.21.1.final using JasperReports Library version 6.21.0-4f56c4f36cd19e17675219a9ac4692d5f0f13b06  -->
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="Blank_A4" pageWidth="595" pageHeight="842" columnWidth="555" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="18e6882e-6896-445e-b311-3a18e2fcf9f3">
	<property name="com.jaspersoft.studio.data.defaultdataadapter" value="ffars"/>
	<property name="com.jaspersoft.studio.data.sql.tables" value=""/>
	<parameter name="logo_source" class="java.lang.String"/>
	<parameter name="start_date" class="java.sql.Date"/>
	<parameter name="end_date" class="java.sql.Date"/>
	<parameter name="facility_id" class="java.lang.Integer"/>
	<queryString>
		<![CDATA[select * from (select $P{start_date} as date,'opening balance' as description,'-' as 
reference,sum(gl_entries.cr_amount - gl_entries.dr_amount) as receipt,
    0 as payment from cash_books join gl_entry_groups
                                on cash_books.gl_entry_group_id = gl_entry_groups.id
                           join gl_entries on gl_entry_groups.id = gl_entries.gl_entry_group_id
                           join gl_accounts on gl_accounts.code = gl_entries.account
                  where gl_accounts.gl_account_type = 'DEPOSIT'
                    and cash_books.date < $P{start_date}
                    and cash_books.facility_id = $P{facility_id}


                  UNION ALL


                  select cash_books.date,
                         cash_books.description,
                         cash_books.reference_no as reference,
                          gl_entries.cr_amount as receipt,
                          gl_entries.dr_amount  as payment
                  from cash_books
                           join gl_entry_groups
                                on cash_books.gl_entry_group_id = gl_entry_groups.id
                           join gl_entries on gl_entry_groups.id = gl_entries.gl_entry_group_id
                           join gl_accounts on gl_accounts.code = gl_entries.account
                  where gl_accounts.gl_account_type = 'DEPOSIT'
                    and cash_books.facility_id = $P{facility_id}
    and cash_books.date >= $P{start_date} and cash_books.date <=  $P{end_date})sub order by date]]>
	</queryString>
	<field name="date" class="java.sql.Date">
		<property name="com.jaspersoft.studio.field.name" value="date"/>
		<property name="com.jaspersoft.studio.field.label" value="date"/>
	</field>
	<field name="description" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="description"/>
		<property name="com.jaspersoft.studio.field.label" value="description"/>
	</field>
	<field name="reference" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="reference"/>
		<property name="com.jaspersoft.studio.field.label" value="reference"/>
	</field>
	<field name="receipt" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.name" value="receipt"/>
		<property name="com.jaspersoft.studio.field.label" value="receipt"/>
	</field>
	<field name="payment" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.name" value="payment"/>
		<property name="com.jaspersoft.studio.field.label" value="payment"/>
	</field>
	<variable name="balance" class="java.lang.Double" resetType="Column" calculation="Sum">
		<variableExpression><![CDATA[$F{receipt} .subtract($F{payment})]]></variableExpression>
		<initialValueExpression><![CDATA[0.0]]></initialValueExpression>
	</variable>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="118" splitType="Stretch">
			<staticText>
				<reportElement x="3" y="79" width="550" height="17" uuid="be3cf454-fb7d-4059-aa66-cdccc291c93d">
					<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
				</reportElement>
				<box rightPadding="3"/>
				<textElement textAlignment="Center">
					<font fontName="Roboto" size="12" isBold="true"/>
				</textElement>
				<text><![CDATA[Deposit Cash Report]]></text>
			</staticText>
			<textField pattern="">
				<reportElement x="0" y="100" width="553" height="18" backcolor="#F2F2F2" uuid="80869688-1ae6-47a4-a5d2-3176a73168fb"/>
				<box>
					<pen lineWidth="1.0" lineStyle="Double"/>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center">
					<font fontName="Roboto" isBold="true" isUnderline="false"/>
					<paragraph lineSpacing="Double"/>
				</textElement>
				<textFieldExpression><![CDATA["From " + $P{start_date} + "  TO "  + $P{end_date}]]></textFieldExpression>
			</textField>
			<image hAlign="Center" onErrorType="Blank">
				<reportElement x="235" y="-20" width="86" height="75" uuid="d6930f21-f5fe-4461-8d4e-b6e790cb665c"/>
				<imageExpression><![CDATA["repo:/Images/logo"]]></imageExpression>
			</image>
			<staticText>
				<reportElement x="193" y="57" width="170" height="10" uuid="062e72bb-b5af-41c6-8676-2d35734c5a2c"/>
				<textElement textAlignment="Center">
					<font size="7" isBold="true"/>
				</textElement>
				<text><![CDATA[United Republic Of Tanzania]]></text>
			</staticText>
			<staticText>
				<reportElement x="154" y="68" width="249" height="10" uuid="ed5af3b9-0a85-485b-8488-cbd2c04f1fb6"/>
				<textElement textAlignment="Center">
					<font size="7" isBold="true"/>
				</textElement>
				<text><![CDATA[President Office Reginal Administration and Local Goverment]]></text>
			</staticText>
		</band>
	</title>
	<pageHeader>
		<band height="37" splitType="Stretch">
			<line>
				<reportElement x="3" y="0" width="550" height="1" uuid="1e8f1e6f-49b3-49cb-8ec5-44249429d200"/>
			</line>
		</band>
	</pageHeader>
	<columnHeader>
		<band height="32" splitType="Stretch">
			<staticText>
				<reportElement x="0" y="0" width="141" height="30" uuid="a98a402f-2ebe-4740-bc8b-0438e05180bd">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="75118211-8735-4a8f-a9c7-92a3998f5edb"/>
				</reportElement>
				<textElement>
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[Description]]></text>
			</staticText>
			<staticText>
				<reportElement x="141" y="0" width="117" height="30" uuid="097ddd80-8c7d-45ed-93cb-8b5ce473527d">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="27f09585-0596-4dfc-86ca-b696d5c404dc"/>
				</reportElement>
				<textElement>
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[Reference]]></text>
			</staticText>
			<staticText>
				<reportElement x="260" y="0" width="120" height="30" uuid="271306ff-49bb-4101-8364-c878dfdc3ba5">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="729961cb-94c3-49d1-8669-45a6007c04bf"/>
				</reportElement>
				<textElement textAlignment="Right">
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[Receipt]]></text>
			</staticText>
			<staticText>
				<reportElement x="380" y="0" width="100" height="30" uuid="7347f3f4-90b6-483e-8d43-bb5e5d47e9b5">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="7866f105-8fbf-4195-a50f-6346646ba7f3"/>
				</reportElement>
				<textElement textAlignment="Right">
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[Payment]]></text>
			</staticText>
			<staticText>
				<reportElement x="480" y="2" width="77" height="30" uuid="30fa933d-1a7f-40a9-bed9-d38437cf4477">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="7866f105-8fbf-4195-a50f-6346646ba7f3"/>
				</reportElement>
				<textElement textAlignment="Right">
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[Balance]]></text>
			</staticText>
		</band>
	</columnHeader>
	<detail>
		<band height="32" splitType="Stretch">
			<textField>
				<reportElement x="0" y="0" width="141" height="30" uuid="1a33c6c8-4057-49b8-934d-dc9089a09a90">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="75118211-8735-4a8f-a9c7-92a3998f5edb"/>
				</reportElement>
				<textFieldExpression><![CDATA[$F{description}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="141" y="0" width="117" height="30" uuid="c3db0c00-dcd4-45ec-9420-8e91d9c0993a">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="27f09585-0596-4dfc-86ca-b696d5c404dc"/>
				</reportElement>
				<textFieldExpression><![CDATA[$F{reference}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="260" y="0" width="120" height="30" uuid="d2d33792-60e7-4512-a703-3bc8f0a3dc79">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="729961cb-94c3-49d1-8669-45a6007c04bf"/>
				</reportElement>
				<textElement textAlignment="Right"/>
				<textFieldExpression><![CDATA[$F{receipt}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="380" y="0" width="100" height="30" uuid="670df23c-e872-4304-a505-bd2f66f85c0b">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="7866f105-8fbf-4195-a50f-6346646ba7f3"/>
				</reportElement>
				<textElement textAlignment="Right"/>
				<textFieldExpression><![CDATA[$F{payment}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="480" y="2" width="77" height="30" uuid="3f816ecd-edf1-4186-99ab-af69b5fb8142">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="7866f105-8fbf-4195-a50f-6346646ba7f3"/>
				</reportElement>
				<textElement textAlignment="Right"/>
				<textFieldExpression><![CDATA[$V{balance}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<columnFooter>
		<band height="45" splitType="Stretch"/>
	</columnFooter>
	<pageFooter>
		<band height="54" splitType="Stretch"/>
	</pageFooter>
	<summary>
		<band height="42" splitType="Stretch"/>
	</summary>
</jasperReport>
